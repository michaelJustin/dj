<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Daraja Web Framework</title>
        <meta name="description" content="Daraja Web Framework">
        <meta name="author" content="Michael Justin">

        <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,500,700" rel="stylesheet" type="text/css" />

        <!-- Le styles -->
        <link href="#{bootstrap.home}/css/bootstrap.css" rel="stylesheet">
        <style>
            body, p, h1, h3 {
                font-family: 'Open Sans', sans-serif;
            }
            body {
                padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
            }
            section {
                padding-top: 0px;
            }
            section > .row {
                margin-bottom: 10px;
            }

            /* Faded out hr
hr.soften {
height: 1px;
margin: 6px 0;
background-image: -webkit-linear-gradient(left, rgba(0,0,0,0), rgba(0,0,0,.1), rgba(0,0,0,0));
background-image:    -moz-linear-gradient(left, rgba(0,0,0,0), rgba(0,0,0,.1), rgba(0,0,0,0));
background-image:     -ms-linear-gradient(left, rgba(0,0,0,0), rgba(0,0,0,.1), rgba(0,0,0,0));
background-image:      -o-linear-gradient(left, rgba(0,0,0,0), rgba(0,0,0,.1), rgba(0,0,0,0));
border: 0;
            } */

        </style>

        <!-- Le fav and touch icons -->
        <link rel="shortcut icon" href="#{webContext.requestContextPath}/images/favicon.png">

    </head>

    <body data-spy="scroll">

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
			<div class="container">
				<div class="navbar-header">

					<a class="navbar-brand" href="#{webContext.requestContextPath}/index.html">
						<img title="Habarisoft" class="favicon" alt="Habarisoft" src="#{webContext.requestContextPath}/images/favicon.png" />
						Daraja Web Framework #{hwcfversion}
					</a>
				</div>
			</div>
        </div>

        <div class="container">

            <h2>Statistics Example</h2>

            <div class="row">

                <!-- tile -->
                <div class="col-md-2">
                    <p>Requests</p>
                    <p>
                        <button class="btn btn-large btn-primary requests" type="button">0</button>
                    </p>
                </div>

            </div>


            <div class="row">

                <!-- tile -->
                <div class="col-md-2">
                    <p>Active</p>
                    <p>
                        <button class="btn btn-large btn-primary active" type="button">0</button>
                    </p>
                </div>
                <!-- tile -->
                <div class="col-md-2">
                    <p>Responses (1xx)</p>
                    <p>
                        <button class="btn btn-large responses1xx" type="button">0</button>
                    </p>
                </div>
                <!-- tile -->
                <div class="col-md-2">
                    <p>Responses (2xx)</p>
                    <p>
                        <button class="btn btn-large responses2xx" type="button">0</button>
                    </p>
                </div>
                <!-- tile -->
                <div class="col-md-2">
                    <p>Responses (3xx)</p>
                    <p>
                        <button class="btn btn-large responses3xx" type="button">0</button>
                    </p>
                </div>			
                <!-- tile -->
                <div class="col-md-2">
                    <p>Responses (4xx)</p>
                    <p>
                        <button class="btn btn-large responses4xx" type="button">0</button>
                    </p>
                </div>
                <!-- tile -->
                <div class="col-md-2">
                    <p>Responses (5xx)</p>
                    <p>
                        <button class="btn btn-large responses5xx" type="button">0</button>
                    </p>
                </div>

            </div>





            <hr class="soften">

            <p>
                Click <a href="source.html?file=AjaxStatsCmp.pas">here</a> to see the Web Component source for this page. 
            </p>

            <hr class="soften">

            <footer class="footer" id="contact">
                <div class="row">
                    <div class="col-md-12">
                        <p>Copyright 2016 <a href="https://habarisoft.com/">Habarisoft</a>. 

							<a href="http://getbootstrap.com/">Bootstrap</a> licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License v2.0</a>.

                            </p>
                    </div>
                </div>
            </footer>			

        </div><!-- /container -->

        <!-- Le javascript =============================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="#{jquery.min.js}"></script>
        <script src="#{bootstrap.home}/js/bootstrap.min.js"></script>

        <script type="text/javascript">
            $(document).ready(function() {
                (function poll() {
                    $.ajax({url: "ajaxstats.json", success: function(data) {
                            $("button.requests").empty().append(data.requests);
                            $("button.active").empty().append(data.active);
                            $("button.responses1xx").empty().append(data.responses1xx);
                            $("button.responses2xx").empty().append(data.responses2xx);
                            $("button.responses3xx").empty().append(data.responses3xx);
                            $("button.responses4xx").empty().append(data.responses4xx);
                            $("button.responses5xx").empty().append(data.responses5xx);
                        }, dataType: "json", complete: poll, timeout: 30000, cache: false});
                })();
            });
        </script>
    </body>
</html>
